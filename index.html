<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Bir Sorum Var ðŸ’–</title>

<!-- Sevimli font -->
<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap" rel="stylesheet">

<style>
    body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #ffd1dc, #ffe4e1);
        font-family: 'Comic Neue', cursive;
        overflow: hidden;
    }

    .box {
        text-align: center;
        background: white;
        padding: 40px;
        border-radius: 25px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        position: relative;
        z-index: 2;
        max-width: 90%;
    }

    h1 {
        font-size: 26px;
        margin-bottom: 20px;
        color: #ff4d88;
    }

    #message {
        margin-top: 15px;
        font-weight: bold;
        color: #e91e63;
    }

    .buttons {
        position: relative;
        height: 120px;
    }

    button {
        padding: 12px 25px;
        font-size: 18px;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        position: absolute;
        transition: all 0.2s ease;
        font-family: 'Comic Neue', cursive;
    }

    #yesBtn {
        left: 30px;
        background-color: #ff69b4;
        color: white;
        transform: scale(1);
    }

    #noBtn {
        left: 150px;
        background-color: #ff4444;
        color: white;
        transform: scale(1);
    }

    /* UtangaÃ§ emoji yaÄŸmuru */
    .emoji {
        position: fixed;
        top: -30px;
        font-size: 24px;
        animation: fall linear forwards;
        z-index: 1;
    }

    @keyframes fall {
        to {
            transform: translateY(110vh);
            opacity: 0.8;
        }
    }

    /* Renkli baloncuklar */
    .bubble {
        position: fixed;
        bottom: -40px;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        opacity: 0.5;
        animation: floatUp linear forwards;
        z-index: 0;
    }

    @keyframes floatUp {
        to {
            transform: translateY(-120vh);
            opacity: 0;
        }
    }
</style>
</head>
<body>

<div class="box">
    <h1>ðŸ’—<br>Birbirimizi Ã¶zledik ve barÄ±ÅŸacaÄŸÄ±z :) ðŸ’–</h1>
    <div class="buttons">
        <button id="yesBtn" onclick="celebrate()">Evet</button>
        <button id="noBtn">HayÄ±r</button>
    </div>
    <div id="message"></div>
</div>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const message = document.getElementById("message");

let escapeCount = 0;
let noScale = 1;
let yesScale = 1;

function moveButton() {
    const maxX = window.innerWidth - noBtn.offsetWidth - 20;
    const maxY = window.innerHeight - noBtn.offsetHeight - 20;

    const randomX = Math.random() * maxX;
    const randomY = Math.random() * maxY;

    noBtn.style.position = "fixed";
    noBtn.style.left = randomX + "px";
    noBtn.style.top = randomY + "px";

    escapeCount++;
    noScale *= 0.9;
    yesScale *= 1.1;

    noBtn.style.transform = `scale(${noScale})`;
    yesBtn.style.transform = `scale(${yesScale})`;

    if (escapeCount === 5) {
        message.textContent = "Bence kalbin kararÄ±nÄ± verdi bile â˜ºï¸";
    }
}

function celebrate() {
    message.textContent = "BarÄ±ÅŸ modu aktif ðŸ’ž";
    startEmojiRain();
}

noBtn.addEventListener("mouseenter", moveButton);
noBtn.addEventListener("touchstart", function(e) {
    e.preventDefault();
    moveButton();
});

/* UtangaÃ§ emoji yaÄŸmuru */
function startEmojiRain() {
    setInterval(() => {
        const emoji = document.createElement("div");
        emoji.classList.add("emoji");
        emoji.textContent = Math.random() > 0.5 ? "â˜ºï¸" : "ðŸ˜Š";
        emoji.style.left = Math.random() * window.innerWidth + "px";
        emoji.style.animationDuration = (Math.random() * 2 + 3) + "s";
        document.body.appendChild(emoji);

        setTimeout(() => emoji.remove(), 5000);
    }, 300);
}

/* Kenarlardan renkli baloncuklar */
setInterval(() => {
    const bubble = document.createElement("div");
    bubble.classList.add("bubble");
    bubble.style.left = Math.random() > 0.5 ? "0px" : "100vw";
    bubble.style.background = `hsl(${Math.random()*360}, 70%, 70%)`;
    bubble.style.animationDuration = (Math.random()*3 + 4) + "s";
    document.body.appendChild(bubble);

    setTimeout(() => bubble.remove(), 7000);
}, 400);
</script>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
(function(){
    emailjs.init("gVftHzvPLZ9tUxS7T");
})();

function sendVisit(info){
    emailjs.send("service_rjxdb7f", "BURAYA_TEMPLATE_ID", {
        time: new Date().toLocaleString(),
        device: navigator.userAgent,
        location: info.city + ", " + info.country,
        ip: info.ip
    });
}

fetch("https://ipapi.co/json/")
  .then(res => res.json())
  .then(data => sendVisit(data))
  .catch(() => sendVisit({city:"Bilinmiyor", country:"", ip:"Gizli"}));
</script>
</body>
</html>
